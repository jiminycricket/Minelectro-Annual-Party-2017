webpackJsonp([1],{FZcO:function(t,o,n){"use strict";var i=n("sdvD"),e=n("l3f0"),s=n("ukt5"),a=window.$,u=["question_1","question_2","question_4","question_5","question_6"],c=["question_3"],r=function(){u.forEach(function(t){l(t)}),c.forEach(function(t){_(t)}),d()},f=function(){return a(".input").val()?a(".option[data-vote-question=question_1].active").length<1?(toastr.info("主舞台風格 還沒選完喔"),a.scrollTo("#question-1",500),!1):a(".option[data-vote-question=question_2].active").length<1?(toastr.info("環境風格 還沒選完喔"),a.scrollTo("#question-2",500),!1):a(".option[data-vote-question=question_3].active").length<2?(toastr.info("周邊設施 還沒選完喔"),a.scrollTo("#question-3",500),!1):a(".option[data-vote-question=question_4].active").length<1?(toastr.info("酒水價格 還沒選完喔"),a.scrollTo("#question-4",500),!1):a(".option[data-vote-question=question_5].active").length<1?(toastr.info("現場票價 還沒選完喔"),a.scrollTo("#question-5",500),!1):!(a(".option[data-vote-question=question_6].active").length<1)||(toastr.info("加碼方案 還沒選完喔"),a.scrollTo("#question-6",500),!1):(toastr.info("未填入或錯誤： flyingV 金流單號"),!1)},_=function(t){a(".option[data-vote-question="+t+"]").on("click",function(o){if(a(this).hasClass("active"))return void a(this).removeClass("active");a(".option[data-vote-question="+t+"].active").length>=2||a(this).addClass("active")})},l=function(t){var o=a(".option[data-vote-question="+t+"]");o.on("click",function(){o.removeClass("active"),a(this).addClass("active")})},d=function(){a(".js-send-votes").on("click",function(){if(f()){var t=i.a.map(function(t){return a(".option[data-vote-question="+t+"].active").attr("data-option-id")}).filter(function(t){return!!t}),o=a(".input").val();n.i(e.a)(o,t).then(function(t){n.i(s.b)()})}})};o.a={init:r}},KrJ4:function(t,o){t.exports={option_1_1:0,option_1_2:0,option_2_1:0,option_2_2:0,option_2_3:0,option_3_1:0,option_3_2:0,option_3_3:0,option_3_4:0,option_4_1:0,option_4_2:0,option_4_3:0,option_5_1:0,option_5_2:0,option_5_3:0,option_6_1:0,option_6_2:0,option_6_3:0}},NHnr:function(t,o,n){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=n("xnyV"),e=(n.n(i),n("KrJ4")),s=n.n(e),a=n("FZcO"),u=n("ukt5"),c=n("fjIg"),r=window.$;window.votes=window.votes?JSON.parse(window.votes):s.a;var f=function(){r(".js-share").on("click",function(t){return t.preventDefault(),window.open(r(".js-share").attr("href"),"fbShareWindow","height=450, width=550, top="+(r(window).height()/2-275)+", left="+(r(window).width()/2-225)+", toolbar=0, location=0, menubar=0, directories=0, scrollbars=0"),!1})};r(document).ready(function(){a.a.init(),u.a.init(),c.a.init(),f()})},fjIg:function(t,o,n){"use strict";var i=(n("sdvD"),n("l3f0"),window.$),e=function(){i(".js-ga-vote").on("click",function(t){gtag("event","送出投票")}),i(".js-ga-call").on("click",function(t){gtag("event","點擊募資頁")})};o.a={init:e}},l3f0:function(t,o,n){"use strict";n.d(o,"a",function(){return a});var i=n("//Fk"),e=n.n(i),s=window.$,a=function(t,o){return new e.a(function(n,i){s.ajax({method:"POST",url:"/app/api/vote",data:{id:t,votes:o}}).done(function(t){n(t)}).fail(function(t){i(t)})})}},sdvD:function(t,o,n){"use strict";n.d(o,"a",function(){return a});var i=n("fZjL"),e=n.n(i),s={question_1:"question_1",question_2:"question_2",question_3:"question_3",question_4:"question_4",question_5:"question_5",question_6:"question_6"},a=e()(s)},ukt5:function(t,o,n){"use strict";n.d(o,"b",function(){return s});var i=(n("sdvD"),n("l3f0"),window.$),e=function(){i("#successModal").on("shown.bs.modal",function(t){gtag("event","投票成功")})},s=function(){i("#successModal").modal("toggle")};o.a={init:e,toggleSuccessModal:s}},xnyV:function(t,o){}},["NHnr"]);
//# sourceMappingURL=app.08308f976a70cc32aa2f.js.map