webpackJsonp([1],{"6D1t":function(t,n,o){"use strict";var i=window.$,e=function(){i(".statge-wrapper").waypoint({handler:function(t){i(".js-call-to-action").toggleClass("active","down"===t)},offset:"10%"}),i(".tickets").waypoint({handler:function(t){i(".js-call-to-action").toggleClass("active","up"===t)},offset:"50%"})};n.a={init:e}},C6R2:function(t,n,o){"use strict";var i=window.$,e=function(){i(".js-back-to-top").on("click",function(){i.scrollTo("header",300)})};n.a={init:e}},FZcO:function(t,n,o){"use strict";var i=o("sdvD"),e=o("l3f0"),a=o("ukt5"),s=window.$,c=["question_1","question_2","question_4","question_5","question_6"],u=["question_3"],d=function(){c.forEach(function(t){f(t)}),u.forEach(function(t){r(t)}),v()},r=function(t){s(".option[data-vote-question="+t+"]").on("click",function(n){if(s(this).hasClass("active"))return void s(this).removeClass("active");s(".option[data-vote-question="+t+"].active").length>=2||s(this).addClass("active")})},f=function(t){var n=s(".option[data-vote-question="+t+"]");n.on("click",function(){n.removeClass("active"),s(this).addClass("active")})},_=function(){s("#voteModal").modal("toggle")},v=function(){s(".js-send-votes").on("click",function(){i.a;var t=i.a.map(function(t){return s(".option[data-vote-question="+t+"].active").attr("data-option-id")}).filter(function(t){return!!t});t.length===i.a.length&&(_(),o.i(a.a)(),o.i(e.a)(t).then(function(){}))})};n.a={init:d}},HWuD:function(t,n,o){"use strict";var i=window.$,e=function(){i(".logo").waypoint({handler:function(t){i(".js-back-to-top").toggleClass("active","down"===t)},offset:"150%"})};n.a={init:e}},KrJ4:function(t,n){t.exports={option_1_1:0,option_1_2:0,option_2_1:0,option_2_2:0,option_2_3:0,option_3_1:0,option_3_2:0,option_3_3:0,option_3_4:0,option_4_1:0,option_4_2:0,option_4_3:0,option_5_1:0,option_5_2:0,option_5_3:0,option_6_1:0,option_6_2:0,option_6_3:0}},NHnr:function(t,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=o("xnyV"),e=(o.n(i),o("KrJ4")),a=o.n(e),s=o("bD14"),c=o("FZcO"),u=o("HWuD"),d=o("6D1t"),r=o("C6R2"),f=o("fjIg"),_=o("BbWT"),v=o.n(_),l=window.$;window.votes=window.votes?JSON.parse(window.votes):a.a,l(document).ready(function(){s.a.getOptions(".chart[data-question='question_1']"),s.a.getOptions(".chart[data-question='question_2']"),s.a.getOptions(".chart[data-question='question_3']"),s.a.getOptions(".chart[data-question='question_4']"),s.a.getOptions(".chart[data-question='question_5']"),s.a.getOptions(".chart[data-question='question_6']"),c.a.init(),u.a.init(),r.a.init(),d.a.init();var t=document.getElementById("scene"),n=document.getElementById("scene1"),o=document.getElementById("scene2"),i=document.getElementById("scene3");new v.a(t),new v.a(n),new v.a(o),new v.a(i);f.a.init(),l(".top-cover").addClass("end"),setTimeout(function(){l(".top-cover").remove(),l(".background").addClass("active")},2e3)})},bD14:function(t,n,o){"use strict";var i=o("7t+N"),e=o.n(i);n.a={getOptions:function(t){var n=e()(t).find(".option-counter"),o=0;n.each(function(t){var i=e()(n[t]).attr("data-option-id");window.votes[i]&&(o=o+=window.votes[i])}),n.each(function(t){var i=e()(n[t]).attr("data-option-id");e()(n[t]).css({width:100*window.votes[i]/o+"%"})})}}},fjIg:function(t,n,o){"use strict";var i=(o("sdvD"),o("l3f0"),window.$),e=function(){i(".js-ga-call").on("click",function(t){gtag("event","點擊募資頁")})};n.a={init:e}},l3f0:function(t,n,o){"use strict";o.d(n,"a",function(){return s});var i=o("//Fk"),e=o.n(i),a=window.$,s=function(t){return new e.a(function(n,o){a.ajax({method:"POST",url:"/app/api/vote",data:{votes:t}}).done(function(t){n(t)}).fail(function(t){o(t)})})}},sdvD:function(t,n,o){"use strict";o.d(n,"a",function(){return s});var i=o("fZjL"),e=o.n(i),a={question_1:"question_1",question_2:"question_2",question_3:"question_3",question_4:"question_4",question_5:"question_5",question_6:"question_6"},s=e()(a)},ukt5:function(t,n,o){"use strict";o.d(n,"a",function(){return e});var i=(o("sdvD"),o("l3f0"),window.$),e=function(){i("#successModal").modal("toggle")}},xnyV:function(t,n){}},["NHnr"]);
//# sourceMappingURL=app.5781093d7274ab497571.js.map